<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		基于STM32F103+4PIN-OLED-IIC显示 | 
	 
	本属的小站
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "https://www.google.com/search?q=";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "https://github.com/Benshu826";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@v1.4.14/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 5.4.2"></head>

<body>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3efe99c287df5a1d6f0d02d187e403c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<header id="header">
	<!-- 音乐盒子 -->
	<div id="musicMouseDrag" style="position:fixed; z-index: 0; bottom: 0; right: 0;">
		<div id="musicDragArea" style="position: absolute; top: 0; left: 0; width: 100%;height: 10px;cursor: move; z-index: 10;"></div>
		<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1877469659&auto=1&height=66"></iframe>	
	</div>

    <a id="title" href="/" class="logo">本属的小站</a>
	
	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">关于</a>
		</li>
	

	

		<li class="menu-item">
			<a href="https://github.com/Benshu826/benshu" class="menu-item-link" target="_blank">
				个人仓库
			</a>
		</li>
		<li class="menu-item">
			<a href="https://github.com/Benshu826" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="按回车全站搜索">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										做一个这样的网页
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E5%81%9A%E4%B8%80%E4%B8%AA%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BD%91%E9%A1%B5/%E4%BD%BF%E7%94%A8%E6%96%B0%E5%9F%9F%E5%90%8D%E5%90%8E%E4%B8%8D%E5%8A%A0%E8%BD%BD%E4%B8%BB%E9%A2%98/">
                     
										    使用新域名后不加载主题
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/24/%E5%81%9A%E4%B8%80%E4%B8%AA%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BD%91%E9%A1%B5/%E5%A6%82%E4%BD%95%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87/">
                     
										    如何加载图片
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E5%81%9A%E4%B8%80%E4%B8%AA%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BD%91%E9%A1%B5/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%83%8F%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BD%91%E9%A1%B5/">
                     
										    如何搭建像这样的网页
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E5%81%9A%E4%B8%80%E4%B8%AA%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BD%91%E9%A1%B5/%E6%8F%90%E4%BA%A4pdf/">
                     
										    提交pdf
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										关于自己
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E5%85%B3%E4%BA%8E%E8%87%AA%E5%B7%B1/%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/">
                     
										    个人简历
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										单片机学习
									</a>
									
							<ul>
								<li class="file active">
									<a href="/2022/09/24/%E5%8D%95%E7%89%87%E6%9C%BA%E5%AD%A6%E4%B9%A0/%E5%9F%BA%E4%BA%8ESTM32F103+4PIN-OLED-IIC%E6%98%BE%E7%A4%BA/">
                     
										    基于STM32F103+4PIN-OLED-IIC显示
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										快速退学
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/07/27/%E5%BF%AB%E9%80%9F%E9%80%80%E5%AD%A6/Markdown%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/">
                     
										    Markdown的简单使用
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/07/27/%E5%BF%AB%E9%80%9F%E9%80%80%E5%AD%A6/%E4%BD%BF%E7%94%A8Motrix+%E6%B2%B9%E7%8C%B4%E6%8F%92%E4%BB%B6%E5%AE%9E%E7%8E%B0%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%A4%9A%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/">
                     
										    使用Motrix+油猴插件实现百度网盘多文件下载
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E5%BF%AB%E9%80%9F%E9%80%80%E5%AD%A6/%E5%BF%AB%E9%80%9F%E4%BF%AE%E6%94%B9%E6%A2%97%E5%9B%BE%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E4%BB%A3%E7%A0%81/">
                     
										    快速修改梗图图片格式代码
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E5%BF%AB%E9%80%9F%E9%80%80%E5%AD%A6/%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8/">
                     
										    测试学习使用
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										梗图系列
									</a>
									
							<ul>
								<li class="file">
									<a href="/2022/10/20/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/10-20/">
                     
										    10-20
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/10/04/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/10-4/">
                     
										    10-4
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/21/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/9-21/">
                     
										    9-21
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/22/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/9-22/">
                     
										    9-22
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/24/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/9-24/">
                     
										    9-24
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/27/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/9-27/">
                     
										    9-27
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2022/09/30/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/9-30/">
                     
										    9-30
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">
	基于STM32F103+4PIN-OLED-IIC显示
</h1>
<div class="article-meta">
	
	<span>本属</span>
	<span>2022-09-24 17:13:22</span>
		<div id="article-categories">
    
		<span>Categories：</span>
            
    

    
		<span>Tags：</span>
            
                
                    <span>
                        <i class="fa fa-tag" aria-hidden="true">
                        <a href="/tags/单片机/">单片机</a>
                        </i>
                    </span>
                
            
    
		</div>

</div>

<div id="article-content">
	<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="使用工具"><a href="#使用工具" class="headerlink" title="使用工具"></a>使用工具</h2><ol>
<li>正点原子STM32F103RCTb MINI开发板</li>
<li>4PIN-OLED</li>
<li>KEIL5</li>
<li>FlyMcu</li>
<li>PCtoLCD2002（取模软件）</li>
</ol>
<h2 id="最终效果与连线"><a href="#最终效果与连线" class="headerlink" title="最终效果与连线"></a>最终效果与连线</h2><div align="center">
    <img src='https://s2.loli.net/2022/09/24/OguYofD1kZRUcXC.png', width = 300px/>
 </div>


<table>
<thead>
<tr>
<th align="center">引脚</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">VCC</td>
<td align="center">3.3V</td>
</tr>
<tr>
<td align="center">GND</td>
<td align="center">GND</td>
</tr>
<tr>
<td align="center">SCL</td>
<td align="center">PC11</td>
</tr>
<tr>
<td align="center">SDA</td>
<td align="center">PC12</td>
</tr>
</tbody></table>
<p><strong>说明</strong>：本文<strong>不讲解OLED与IIC的基本原理</strong>，只考虑使用与实现功能。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><h2 id="KEIL文件总览"><a href="#KEIL文件总览" class="headerlink" title="KEIL文件总览"></a>KEIL文件总览</h2><div align="center">
    <img src='https://s2.loli.net/2022/09/24/bKVxwYMX5BmTLDf.png', width = 200px/>
 </div>

<p>​    上述文件中，main.c包含<strong>主函数</strong>，oled.c包含<strong>IIC底层代码与OLED显示</strong>。<br>​    当然还有.h文件，其中bmp.h包含<strong>BMP图片的取模16进制编码</strong>，oled.h包含对<strong>IIC引脚定义和OLED屏幕相关定义</strong>，oledfont.h包含<strong>ASCALL码与自己定义的中文字符</strong>。<br>​    其他均为官方提供文件，无另外编写。</p>
<h2 id="关键代码"><a href="#关键代码" class="headerlink" title="关键代码"></a>关键代码</h2><h3 id="oled-h中对IIC引脚定义"><a href="#oled-h中对IIC引脚定义" class="headerlink" title="oled.h中对IIC引脚定义"></a>oled.h中对IIC引脚定义</h3><p>如果要<strong>修改使用的引脚</strong>，将GPIOC、GPIO_Pin_11和GPIO_Pin_12改为对应即可,其他都无需做任意改动。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SCLK_Clr() GPIO_ResetBits(GPIOC,GPIO_Pin_11)<span class="comment">//CLK</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SCLK_Set() GPIO_SetBits(GPIOC,GPIO_Pin_11)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SDIN_Clr() GPIO_ResetBits(GPIOC,GPIO_Pin_12)<span class="comment">//DIN</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_SDIN_Set() GPIO_SetBits(GPIOC,GPIO_Pin_12)</span></span><br><span class="line"> 		     </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_CMD  0	<span class="comment">//写命令</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OLED_DATA 1	<span class="comment">//写数据</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*在oled.c中初始化SSD1306还有相关程序</span></span><br><span class="line"><span class="comment"> 	GPIO_InitTypeDef  GPIO_InitStructure;</span></span><br><span class="line"><span class="comment"> 	</span></span><br><span class="line"><span class="comment">	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC, ENABLE);	</span></span><br><span class="line"><span class="comment">	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_11|GPIO_Pin_12;	 </span></span><br><span class="line"><span class="comment"> 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 		</span></span><br><span class="line"><span class="comment">	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span></span><br><span class="line"><span class="comment"> 	GPIO_Init(GPIOC, &amp;GPIO_InitStructure);	  </span></span><br><span class="line"><span class="comment"> 	GPIO_SetBits(GPIOC,GPIO_Pin_11|GPIO_Pin_12);	</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="显示字符串"><a href="#显示字符串" class="headerlink" title="显示字符串"></a>显示字符串</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数为x坐标(0-128)；第二个参数为y坐标(0-8)；</span></span><br><span class="line"><span class="comment">//第三个为ASCALL码，当chr = 65时，为&#x27;A&#x27;；第四个参数为文字大小，仅为12/16。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OLED_ShowChar</span><span class="params">(u8 x,u8 y,u8 chr,u8 Char_Size)</span></span></span><br><span class="line"><span class="function"></span>&#123;      	</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> c=<span class="number">0</span>,i=<span class="number">0</span>;	</span><br><span class="line">		c=chr-<span class="string">&#x27; &#x27;</span>;<span class="comment">//得到偏移后的值			</span></span><br><span class="line">		<span class="keyword">if</span>(x&gt;Max_Column<span class="number">-1</span>)&#123;x=<span class="number">0</span>;y=y+<span class="number">2</span>;&#125;</span><br><span class="line">		<span class="keyword">if</span>(Char_Size ==<span class="number">16</span>)</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="built_in">OLED_Set_Pos</span>(x,y);	</span><br><span class="line">			<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">			<span class="built_in">OLED_WR_Byte</span>(F8X16[c*<span class="number">16</span>+i],OLED_DATA);</span><br><span class="line">			<span class="built_in">OLED_Set_Pos</span>(x,y+<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">			<span class="built_in">OLED_WR_Byte</span>(F8X16[c*<span class="number">16</span>+i+<span class="number">8</span>],OLED_DATA);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;	</span><br><span class="line">				<span class="built_in">OLED_Set_Pos</span>(x,y);</span><br><span class="line">				<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">				<span class="built_in">OLED_WR_Byte</span>(F6x8[c][i],OLED_DATA);</span><br><span class="line">			&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="显示数字"><a href="#显示数字" class="headerlink" title="显示数字"></a>显示数字</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数为x坐标(0-128)；第二个参数为y坐标(0-8)；</span></span><br><span class="line"><span class="comment">//第三个num为数字；第四个参数为数字长度；第五个参数为数字大小，仅为12/16。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OLED_ShowNum</span><span class="params">(u8 x,u8 y,u32 num,u8 len,u8 size2)</span></span></span><br><span class="line"><span class="function"></span>&#123;         	</span><br><span class="line">	u8 t,temp;</span><br><span class="line">	u8 enshow=<span class="number">0</span>;						   </span><br><span class="line">	<span class="keyword">for</span>(t=<span class="number">0</span>;t&lt;len;t++)</span><br><span class="line">	&#123;</span><br><span class="line">		temp=(num/<span class="built_in">oled_pow</span>(<span class="number">10</span>,len-t<span class="number">-1</span>))%<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">if</span>(enshow==<span class="number">0</span>&amp;&amp;t&lt;(len<span class="number">-1</span>))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(temp==<span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">OLED_ShowChar</span>(x+(size2/<span class="number">2</span>)*t,y,<span class="string">&#x27; &#x27;</span>,size2);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> enshow=<span class="number">1</span>;  </span><br><span class="line">		&#125;</span><br><span class="line">	 	<span class="built_in">OLED_ShowChar</span>(x+(size2/<span class="number">2</span>)*t,y,temp+<span class="string">&#x27;0&#x27;</span>,size2); </span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h3 id="显示字符串-1"><a href="#显示字符串-1" class="headerlink" title="显示字符串"></a>显示字符串</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数为x坐标(0-128)；第二个参数为y坐标(0-8)；</span></span><br><span class="line"><span class="comment">//第三个为字符串；第四个参数为字符大小，仅为12/16。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OLED_ShowString</span><span class="params">(u8 x,u8 y,u8 *chr,u8 Char_Size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> j=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (chr[j]!=<span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;		<span class="built_in">OLED_ShowChar</span>(x,y,chr[j],Char_Size);</span><br><span class="line">			x+=<span class="number">8</span>;</span><br><span class="line">		<span class="keyword">if</span>(x&gt;<span class="number">120</span>)&#123;x=<span class="number">0</span>;y+=<span class="number">2</span>;&#125;</span><br><span class="line">			j++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="显示汉字"><a href="#显示汉字" class="headerlink" title="显示汉字"></a>显示汉字</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数为x坐标(0-128)；第二个参数为y坐标(0-8)；</span></span><br><span class="line"><span class="comment">//第三个为要输入的汉字，在oledfont.h中定义。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OLED_ShowCHinese</span><span class="params">(u8 x,u8 y,u8 no)</span></span></span><br><span class="line"><span class="function"></span>&#123;      			    </span><br><span class="line">	u8 t,adder=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">OLED_Set_Pos</span>(x,y);	</span><br><span class="line">    <span class="keyword">for</span>(t=<span class="number">0</span>;t&lt;<span class="number">16</span>;t++)</span><br><span class="line">		&#123;</span><br><span class="line">				<span class="built_in">OLED_WR_Byte</span>(Hzk[<span class="number">2</span>*no][t],OLED_DATA);</span><br><span class="line">				adder+=<span class="number">1</span>;</span><br><span class="line">     &#125;	</span><br><span class="line">		<span class="built_in">OLED_Set_Pos</span>(x,y+<span class="number">1</span>);	</span><br><span class="line">    <span class="keyword">for</span>(t=<span class="number">0</span>;t&lt;<span class="number">16</span>;t++)</span><br><span class="line">			&#123;	</span><br><span class="line">				<span class="built_in">OLED_WR_Byte</span>(Hzk[<span class="number">2</span>*no+<span class="number">1</span>][t],OLED_DATA);</span><br><span class="line">				adder+=<span class="number">1</span>;</span><br><span class="line">      &#125;					</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="显示BMP图片"><a href="#显示BMP图片" class="headerlink" title="显示BMP图片"></a>显示BMP图片</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数为起始x0坐标(0-128)；第二个参数为起始y0坐标(0-8)；</span></span><br><span class="line"><span class="comment">//第三个参数为结束x1坐标(0-128)；第四个参数为结束y1坐标(0-8)；</span></span><br><span class="line"><span class="comment">//第五个为要输入的图片。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OLED_DrawBMP</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> x0, <span class="type">unsigned</span> <span class="type">char</span> y0,<span class="type">unsigned</span> <span class="type">char</span> x1, <span class="type">unsigned</span> <span class="type">char</span> y1,<span class="type">unsigned</span> <span class="type">char</span> BMP[])</span></span></span><br><span class="line"><span class="function"></span>&#123; 	</span><br><span class="line"> <span class="type">unsigned</span> <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line"> <span class="type">unsigned</span> <span class="type">char</span> x,y;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(y1%<span class="number">8</span>==<span class="number">0</span>) y=y1/<span class="number">8</span>;      </span><br><span class="line">  <span class="keyword">else</span> y=y1/<span class="number">8</span>+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(y=y0;y&lt;y1;y++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">OLED_Set_Pos</span>(x0,y);</span><br><span class="line">    <span class="keyword">for</span>(x=x0;x&lt;x1;x++)</span><br><span class="line">	    &#123;      </span><br><span class="line">	    	<span class="built_in">OLED_WR_Byte</span>(BMP[j++],OLED_DATA);	    	</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h1 id="取模软件使用"><a href="#取模软件使用" class="headerlink" title="取模软件使用"></a>取模软件使用</h1><h2 id="软件设置"><a href="#软件设置" class="headerlink" title="软件设置"></a>软件设置</h2><p>​    1、选择阴码和阳码，看自己需要的效果。<br>​    2、如果<strong>使用列行式</strong>，则OLED_DrawBMP函数的<strong>x1-x0为图像大小的第一个参数。</strong>使用<strong>行列式</strong>，则OLED_DrawBMP的<strong>x1-x0为图像大小的第二个参数。</strong><br>​    3、取模走向采用<strong>逆向</strong>。<br>​    4、自定义格式选择<strong>C51格式。</strong><br>​    <strong>采用阴码、列行式、逆向、C51效果图如下：</strong></p>
<div align="center">
    <img src='https://s2.loli.net/2022/09/24/Da92dwc1SXhlpZj.png', width = 600px/>
 </div>

<h3 id="代码烧录效果图："><a href="#代码烧录效果图：" class="headerlink" title="代码烧录效果图："></a>代码烧录效果图：</h3><div align="center">
    <img src='https://s2.loli.net/2022/09/24/UPDshk81VYpF9WI.png', width = 250px/>
 </div>

<h3 id="动态图实现"><a href="#动态图实现" class="headerlink" title="动态图实现"></a>动态图实现</h3><p>​        与上述展示BMP图步骤一样，区别在于它要一张一张取出来进行展示，很是麻烦。<br>​        有时候GIF图直接取成BMP图后，色调会变得很淡，如右图（它是有东西的）。可以先用Python程序将GIF图转为PNG图片，如果图片<strong>不是黑底</strong>，需再将PNG图片<strong>用WINDOW自带的画图</strong>进行<strong>取反</strong>颜色变为黑底，，然后再转为BMP图，如左图效果。取成左图这样的效果后在进行取模，放入数组中用for循环即可实现效果，这里无须delay。</p>
<div align="center">
    <img src='https://s2.loli.net/2022/09/24/cAS6CnbFUY12DQR.png', width = 400px/>
 </div>
</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2022/09/27/%E6%A2%97%E5%9B%BE%E7%B3%BB%E5%88%97/9-27/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  9.27
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2022/09/24/%E5%81%9A%E4%B8%80%E4%B8%AA%E8%BF%99%E6%A0%B7%E7%9A%84%E7%BD%91%E9%A1%B5/%E5%A6%82%E4%BD%95%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87/">
                如何使用借助PicGo的SM.MS-登录用户加载图片
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>




<script>
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">本属</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>